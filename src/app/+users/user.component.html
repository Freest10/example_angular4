<h1>Task2</h1>
<div class="filter">
  <filter></filter>
</div>
<div class="departaments">
  <h3>Пользователи <span class="addUser" (click)="showUserInfo()"><mat-icon>add</mat-icon></span></h3>
  <table>
    <ng-container *ngFor="let division of divisions">
      <tr>
        <h4>{{division.text}}</h4><span class="addUser" (click)="addUserToDivision(division.value)"><mat-icon>add</mat-icon></span>
      </tr>
      <ng-container *ngIf="usersByDivisions">
        <ng-container *ngIf="usersByDivisions[division.value]">
            <ng-container *ngFor="let userByDivision of usersByDivisions[division.value]">
              <tr>
                <td>
                  {{userByDivision.secondName}} {{userByDivision.name | firstLetter}} {{userByDivision.thirdName | firstLetter}}
                </td>
                <td>
                  {{positions[userByDivision.position]}}
                </td>
                <td>
                  {{userByDivision.photo}}
                </td>
                <td>
                  <div (click)="showUserInfo(userByDivision)">изменить</div>
                </td>
                <td>
                  <div (click)="deleteUser(userByDivision.id)">удалить</div>
                </td>
               </tr>
            </ng-container>
        </ng-container>
      </ng-container>
    </ng-container>
  </table>
</div>
<router-outlet></router-outlet>
